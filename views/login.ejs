<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
    />
    <title>Login</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&amp;display=swap"
    />
  </head>

  <body class="bg-gradient-primary" style="background: rgb(255, 255, 255)">
    <div class="container">
      <div
        class="row justify-content-center"
        style="background: var(--bs-white)"
      >
        <div class="col-md-9 col-lg-12 col-xl-10" style="background: #ffffff">
          <div class="card shadow-lg o-hidden border-0 my-5">
            <div class="card-body p-0">
              <div class="row">
                <div class="col-lg-6 d-none d-lg-flex">
                  <div
                    class="flex-grow-1 bg-login-image"
                    style="
                      background: url('assets/img/dogs/TU%20study%20destination%20.png')
                          center / auto no-repeat,
                        #871808;
                    "
                  ></div>
                </div>
                <div class="col-lg-6">
                  <div class="p-5">
                    <div class="text-center">
                      <h4 class="text-dark mb-4">
                        <img
                          class="img-fluid"
                          src="assets/img/usjp-logo.png"
                          width="63"
                          height="63"
                        />
                      </h4>
                      <h4
                        class="text-dark mb-2"
                        style="text-align: center; font-weight: bold"
                      >
                        Performance and Evolution System
                      </h4>
                      <h4
                        class="text-dark mb-2"
                        style="font-size: 20px; text-align: center"
                      >
                        Faculty of Applied Sciences
                      </h4>
                      <h4
                        class="text-dark mb-2"
                        style="font-size: 20px; text-align: center"
                      >
                        <span
                          style="
                            color: rgba(
                              var(--bs-dark-rgb),
                              var(--bs-text-opacity)
                            );
                          "
                          >University of Sri Jayewardenepura</span
                        >
                      </h4>
                      <h4 class="text-dark mb-4" style="font-weight: bold">
                        Welcome Back!
                      </h4>
                    </div>
                    <form id="loginForm" class="user">
                      <div class="mb-3">
                        <input
                          class="form-control form-control-user"
                          type="email"
                          id="Email"
                          name="email"
                          aria-describedby="emailHelp"
                          autocomplete="off"
                          placeholder="Enter Email Address..."
                        />
                      </div>
                      <div class="mb-3">
                        <input
                          class="form-control form-control-user"
                          type="password"
                          id="Password"
                          name="password"
                          placeholder="Password"
                        />
                      </div>
                      <div class="mb-3">
                        <div class="custom-control custom-checkbox small">
                          <div class="form-check">
                            <input
                              class="form-check-input custom-control-input"
                              type="checkbox"
                              id="formCheck"
                            /><label
                              class="form-check-label custom-control-label"
                              for="formCheck-1"
                              >Remember Me</label
                            >
                          </div>
                        </div>
                      </div>
                      <button
                        class="btn btn-primary d-block btn-user w-100"
                        id="btnLogin"
                        type="submit"
                        style="background: #871808"
                      >
                        Login
                      </button>
                      <hr />
                      <hr />
                    </form>
                    <div class="text-center">
                      <a
                        id="linkForgetPassword_login"
                        href="http://localhost:8000/forgetpassword"
                        class="small"
                        style="color: rgb(133, 135, 150)"
                        >Forgot Password?</a
                      >
                    </div>
                    <div class="text-center">
                      <a
                        id="linkSignup_login"
                        href="http://localhost:8000/signup"
                        class="small"
                        style="color: rgb(133, 135, 150)"
                        >Create an Account!</a
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Get the button element
      var btnAddResults = document.getElementById("btnAddResults");
    
      // Add click event listener to the button
      btnAddResults.addEventListener("click", function (event) {
        event.preventDefault(); // Prevent form submission
    
        // Get the table body element
        var tableBody = document.querySelector("#dataTable tbody");
    
        // Get the values from the input fields
        var indexNumber = document.getElementById("indexNo").value;
        var grade = document.getElementById("grade").value;
    
        // Create a new row and cells
        var newRow = document.createElement("tr");
        var indexCell = document.createElement("td");
        var numberCell = document.createElement("td");
        var resultCell = document.createElement("td");
    
        // Set the cell values
        indexCell.textContent = tableBody.children.length + 1; // Set the number sequentially
        numberCell.textContent = indexNumber;
        resultCell.textContent = grade;
    
        // Append the cells to the new row
        newRow.appendChild(indexCell);
        newRow.appendChild(numberCell);
        newRow.appendChild(resultCell);
    
        // Append the new row to the table body
        tableBody.appendChild(newRow);
    
        const year = "1st year";
        const stream = "ICT";
        const semester = document.getElementById("semester").value;
        const subjectName = document.getElementById("subjectName").value;
        const courseCode = document.getElementById("courseCode").value;
        const indexNo = document.getElementById("indexNumber").value;
        const gradeValue = document.getElementById("grade").value;
    
        // Create an object with the request data
        const requestData = {
          Index_No: indexNo,
          Grade: gradeValue,
          Year: year,
          Stream: stream,
          Semester: semester,
          SubjectName: subjectName,
          CourseCode: courseCode,
        };
    
        // Send an AJAX request to the server
        fetch("/ICT/1stYear", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(requestData),
        })
          .then(function (response) {
            // Check if the request was successful
            if (response.ok) {
              console.log("AJAX request successful");
              alert("done");
            } else {
              console.log("AJAX request failed");
              alert("Failed to add subject.");
            }
          })
          .catch(function (error) {
            console.log("AJAX request failed");
            alert("Failed to add subject.");
          });
    
        // Reset the input fields
        document.getElementById("indexNo").value = "";
        document.getElementById("grade").value = "";
      });
    </script>
    

    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="assets/js/theme.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </body>
</html>
